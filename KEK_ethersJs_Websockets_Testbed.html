<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Kekchain (WSS) Websockets Testbed</title>
</head>
<body>
<div class="container">
    <center>
    <label for="blockNumber" class="col-lg-2 control-label">Block Height: </label>
    <span id="blockNumber" type="text"></span>
    <br>
    </center>
</div>

<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/ethers/5.7.2/ethers.umd.min.js" integrity="sha512-FDcVY+g7vc5CXANbrTSg1K5qLyriCsGDYCE02Li1tXEYdNQPvLPHNE+rT2Mjei8N7fZbe0WLhw27j2SrGRpdMg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

<script>

    // Your code here...
	console.log(ethers.getDefaultProvider());
async function initialize() {
	// A Web3Provider wraps a standard Web3 provider, which is
	// what MetaMask injects as window.ethereum into each page
	const provider = await new ethers.providers.WebSocketProvider("wss://ws.kekchain.com")
	
	const { chainId } = await provider.getNetwork()
	console.log(chainId) // 420420
	console.log(provider);
	$("#blockNumber").html(await provider.getBlockNumber());
    // add more ethersJs interactions below
   return console.log(await provider.getBlockNumber()) 
}initialize();
</script>
</body>
